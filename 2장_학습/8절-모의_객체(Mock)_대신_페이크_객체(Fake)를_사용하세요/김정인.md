# 내용정리

---

- 모킹 (mocking) : 테스트를 최적화 하기 위한 장치
- 모킹은 최후의 수단으로 사용해야 하며, 지양되어야 한다.
- 모킹의 사용이유는 특정 메서드를 호출했을 때, Return 값을 가정할 수 있는 점이다.

> 모킹 대신 페이크를 사용하라

- 페이크는 인터페이스의 일부이며, 안에서 이너클래스로 내부에 정의된다.
- 테스트 코드에서 페이크를 호출할 때는 doReturn 처럼 값을 테스트코드 내부에 명시하지 않아도 됨으로 코드를 줄일 수 있다.
- 우리는 테스트코드에서 궁금한 것은 특정 값을 리턴 받는게 중요한 것이 아니라, 어떤 값이 Return 되는 것이 중요하기 때문에
  Mock 의 doReturn 은 가독성을 저해할 수 있다.
- 우리 테스트에서의 관심사는 특정 메서드를 호출했을 때의 리턴값이지, 특정 메서드가 가지고 있는 로직은 관심이 없다.



# 느낀점

---

- 처음 인터페이스 내부에 정의된 페이크 클래스의 형태를 보고, 이건 또 뭐야라는 생각이 들었다. 하지만 글을 읽다보니 확실히 장점이 있다고 느껴진다. 

> 단위 테스트의 관심사의 분리

- 우리는 특정 단위테스트를 작성할 때 ( 다른 API 와 통신하여 값을 받는 ) , 해당 값을 받는 로직이나, 처리되는 로직을 단위 테스트에 입력하게 되는 경우가 있다.
- 그러나 단위테스트의 관점에서는 인자값을 던져 API 를 호출하고, 그에 대한 리턴값으로 처리하는 로직이 관심사이다.
- 따라서 인자값에 따라 리턴값을 다르게 만드는 과정은 단위테스트가 아닌 다른 곳에서 이루어져야 한다.
- 책에서는 인터페이스 내부에서 페이크 클래스를 추천하였고, 위치가 좋은지는 아직 100% 공감은 안되지만 단위테스트에서의 분리는 제법 공감이 간다.
