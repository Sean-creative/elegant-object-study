# 내용정리

---

- 타입 인트로스펙션과 캐스팅을 사용하는 것을 지양하라.

<br />
- 리플렉션 : 메서드, 명령어, 구문, 클래스, 객체, 타입 등을 변경할 수 있음
- CPU 가 이 요소들에 접근하기 전에 쉽고 간단하게 코드를 수정할 수 있음
- 그러나, 코드가 런타임에 다른 코드에 의해 수정된다는 사실은, 매번 변경되는 가능성에 대해 고려해야하는 불편함을 준다.
- 런타임에 객체의 타입을 조사하는 것은 클래스 사이의 결합도가 높아지기 때문에 기술적인 관점에서 좋지 않다.

<br />
- 클래스 캐스팅 : 사전에 약속하지 않았던 새로운 계약을 따르도록 강제하는 것
- 캐스팅이란, 객체의 타입을 특정 타입으로 강제하고 일을 시키기 때문에, 그 타입에 대한 의존도가 있다.
- 예를들어, 다른 객체가 같이 일을 하려고 할 때, 특정 타입으로 강요받는 것이다.
- 방문한 객체에 대한 기대를 문서에 명시적으로 기록하지 않은 채로 외부에 노출시킨 형태

  if (items instanceof Collection) {
    return ((Collection) items).size();
  }

- 당신이 Collection 타입일 때, 사이즈를 반환하라
- 객체는 캡슐화가 되어있기 때문에, 외부에서는 Collection 타입이 필요한지 모르는 상태이며, 그 타입이어야만 size 를 알 수 있다.


<br /><br />

# 느낀점

- 리플렉션은 지양해야 된다는 생각을 가지게 되었다.
- 내가 작성한 코드로 동작되기를 기대하는데, 런타임에 다른 코드로 바뀐다는 것은 그 기대를 위반하기 때문이다.

<br />
- 캐스팅이 결국 객체에게 타입을 강제하는 것을 알게 되었다.
- 이는 객체의 타입에 따라 객체를 차별하는 것을 야기한다.
